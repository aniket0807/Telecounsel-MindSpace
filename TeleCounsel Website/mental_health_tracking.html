<!DOCTYPE html>
<html>
<head>
  <title>Your Charts - MindSpace</title>
  <link rel="stylesheet" href="styles.css">
  <style>
    .charts-container {
      max-width: 1200px;
      margin: 100px auto 50px;
      padding: 0 20px;
    }
    
    .page-banner {
      background-color: #3e1eff;
      color: white;
      text-align: center;
      padding: 60px 20px;
      margin-bottom: 50px;
      border-radius: 15px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    }
    
    .chart-section {
      margin-bottom: 40px;
      background-color: white;
      border-radius: 15px;
      padding: 20px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    }
    
    .chart-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
    }
    
    .chart-title {
      font-size: 1.5em;
      color: #333;
    }
    
    .chart-controls {
      display: flex;
      gap: 10px;
    }
    
    .chart-controls select {
      padding: 5px 10px;
      border-radius: 20px;
      border: 1px solid #ddd;
    }
    
    .chart-container {
      width: 100%;
      height: 300px;
      background-color: #f9f9f9;
      border-radius: 10px;
      overflow: hidden;
    }
    
    .data-summary {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      margin-top: 20px;
    }
    
    .summary-card {
      flex: 1;
      min-width: 150px;
      padding: 15px;
      border-radius: 10px;
      background-color: #f5f5f5;
      text-align: center;
    }
    
    .summary-value {
      font-size: 24px;
      font-weight: bold;
      color: #3e1eff;
      margin-bottom: 5px;
    }
    
    .summary-label {
      font-size: 14px;
      color: #666;
    }
    
    .insights-section {
      margin-top: 20px;
      padding: 15px;
      background-color: #f0f8ff;
      border-radius: 10px;
      border-left: 4px solid #3e1eff;
    }
    
    .insights-title {
      font-weight: bold;
      margin-bottom: 10px;
      color: #333;
    }
    
    .export-section {
      text-align: center;
      margin: 40px 0;
    }
    
    .export-buttons {
      display: flex;
      justify-content: center;
      gap: 15px;
      margin-top: 15px;
    }
    
    .export-btn {
      padding: 10px 20px;
      border-radius: 20px;
      font-weight: bold;
      cursor: pointer;
      transition: background-color 0.3s, transform 0.3s;
    }
    
    .export-btn:hover {
      transform: scale(1.05);
    }
    
    .pdf-btn {
      background-color: #ff4c4c;
      color: white;
      border: none;
    }
    
    .excel-btn {
      background-color: #1e7e34;
      color: white;
      border: none;
    }
    
    .tips-section {
      background-color: #fcf8e3;
      border-radius: 15px;
      padding: 25px;
      margin-bottom: 40px;
    }
    
    .no-data-message {
      text-align: center;
      padding: 40px;
      color: #777;
    }
    
    .add-data-btn {
      background-color: #3e1eff;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 20px;
      font-weight: bold;
      cursor: pointer;
      margin-top: 15px;
    }
    
    .add-data-btn:hover {
      background-color: #2e00cc;
    }
  </style>
</head>
<body>

  <header>
    <nav class="navbar">
      <div class="left-section">
        <div class="hamburger" onclick="toggleMenu()">&#9776;</div>
        <div class="logo">
          <img src="logo/logo.jpg" alt="MindSpace Logo">
        </div>
      </div>

      <ul class="nav-links" id="navLinks">
        <li><a href="index.html">Home</a></li>
        <li><a href="chat.html">Your Chat</a></li>
        <li><a href="mental_health_tracking.html">Tracking</a></li>
        <li><a href="therapists.html">Therapists</a></li>
        <li><a href="book_session.html">Book Session</a></li>
        <li><a href="about_us_page.html">About Us</a></li>
        <li><a href="services_page.html">Services</a></li>
        <li><a href="contact.html">Contact</a></li>
      </ul>

      <button class="profile-btn" onclick="window.location.href='profile.html'">Profile</button>
    </nav>
  
    <div class="sidebar" id="sidebar">
      <div class="sidebar-header">
        <span class="close-btn" onclick="toggleMenu()">x</span>
      </div>
      <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="chat.html">Your Chat</a></li>
        <li><a href="mental_health_tracking.html">Tracking</a></li>
        <li><a href="therapists.html">Therapists</a></li>
        <li><a href="book_session.html">Book Session</a></li>
        <li><a href="about_us_page.html">About Us</a></li>
        <li><a href="services_page.html">Services</a></li>
        <li><a href="contact.html">Contact</a></li>
      </ul>
    </div>
  </header>

  <div class="charts-container">
    <section class="page-banner">
      <h1>Your Mental Health Tracking</h1>
      <p>Visualize your progress and gain insights to better understand your mental wellness journey</p>
    </section>

    <section class="chart-section">
      <div class="chart-header">
        <h2 class="chart-title">Mood Tracker</h2>
        <div class="chart-controls">
          <select id="moodTimeRange">
            <option value="week">Last 7 Days</option>
            <option value="month">Last 30 Days</option>
            <option value="year">Last 12 Months</option>
          </select>
        </div>
      </div>
      <div class="chart-container" id="moodChart">
        <!-- Chart will be rendered here -->
      </div>
      <div class="data-summary">
        <div class="summary-card">
          <div class="summary-value">7.2</div>
          <div class="summary-label">Average Mood</div>
        </div>
        <div class="summary-card">
          <div class="summary-value">+15%</div>
          <div class="summary-label">Improvement</div>
        </div>
        <div class="summary-card">
          <div class="summary-value">9.1</div>
          <div class="summary-label">Highest Day</div>
        </div>
        <div class="summary-card">
          <div class="summary-value">5.4</div>
          <div class="summary-label">Lowest Day</div>
        </div>
      </div>
      <div class="insights-section">
        <div class="insights-title">AI Insights</div>
        <p>Your mood tends to improve on days following therapy sessions and exercise. Consider scheduling more outdoor activities on Wednesdays when your mood typically dips.</p>
      </div>
    </section>

    <section class="chart-section">
      <div class="chart-header">
        <h2 class="chart-title">Anxiety & Stress Levels</h2>
        <div class="chart-controls">
          <select id="anxietyTimeRange">
            <option value="week">Last 7 Days</option>
            <option value="month">Last 30 Days</option>
            <option value="year">Last 12 Months</option>
          </select>
        </div>
      </div>
      <div class="chart-container" id="anxietyChart">
        <!-- Chart will be rendered here -->
      </div>
      <div class="data-summary">
        <div class="summary-card">
          <div class="summary-value">4.3</div>
          <div class="summary-label">Average Anxiety</div>
        </div>
        <div class="summary-card">
          <div class="summary-value">-21%</div>
          <div class="summary-label">Reduction</div>
        </div>
        <div class="summary-card">
          <div class="summary-value">18</div>
          <div class="summary-label">Calm Days</div>
        </div>
        <div class="summary-card">
          <div class="summary-value">3</div>
          <div class="summary-label">High Stress Days</div>
        </div>
      </div>
      <div class="insights-section">
        <div class="insights-title">AI Insights</div>
        <p>Your anxiety levels show significant improvement after implementing breathing exercises. Work-related stress appears highest on Mondays - consider starting your week with a mindfulness session.</p>
      </div>
    </section>

    <section class="chart-section">
      <div class="chart-header">
        <h2 class="chart-title">Sleep Quality</h2>
        <div class="chart-controls">
          <select id="sleepTimeRange">
            <option value="week">Last 7 Days</option>
            <option value="month">Last 30 Days</option>
            <option value="year">Last 12 Months</option>
          </select>
        </div>
      </div>
      <div class="chart-container" id="sleepChart">
        <!-- Chart will be rendered here -->
      </div>
      <div class="data-summary">
        <div class="summary-card">
          <div class="summary-value">6.8</div>
          <div class="summary-label">Average Quality</div>
        </div>
        <div class="summary-card">
          <div class="summary-value">7.5h</div>
          <div class="summary-label">Average Duration</div>
        </div>
        <div class="summary-card">
          <div class="summary-value">23:45</div>
          <div class="summary-label">Average Bedtime</div>
        </div>
        <div class="summary-card">
          <div class="summary-value">2</div>
          <div class="summary-label">Disruptions/Night</div>
        </div>
      </div>
      <div class="insights-section">
        <div class="insights-title">AI Insights</div>
        <p>Your sleep quality correlates strongly with screen time before bed. On nights when you avoid screens for 1+ hours before sleeping, your quality score improves by 32%.</p>
      </div>
    </section>

    <section class="chart-section">
      <div class="chart-header">
        <h2 class="chart-title">Therapy Progress</h2>
        <div class="chart-controls">
          <select id="therapyTimeRange">
            <option value="month">Last 30 Days</option>
            <option value="quarter">Last 3 Months</option>
            <option value="year">Last 12 Months</option>
          </select>
        </div>
      </div>
      <div class="chart-container" id="therapyChart">
        <!-- Chart will be rendered here -->
      </div>
      <div class="data-summary">
        <div class="summary-card">
          <div class="summary-value">8</div>
          <div class="summary-label">Sessions Attended</div>
        </div>
        <div class="summary-card">
          <div class="summary-value">4</div>
          <div class="summary-label">Goals Achieved</div>
        </div>
        <div class="summary-card">
          <div class="summary-value">9.2</div>
          <div class="summary-label">Therapist Rating</div>
        </div>
        <div class="summary-card">
          <div class="summary-value">+38%</div>
          <div class="summary-label">Overall Improvement</div>
        </div>
      </div>
      <div class="insights-section">
        <div class="insights-title">Therapist Notes</div>
        <p>Great progress on communication exercises. Anxiety management techniques showing consistent improvement. Recommend continuing with weekly journaling and breathing exercises.</p>
      </div>
    </section>

    <section class="tips-section">
      <h3>Tips for Mental Health Tracking</h3>
      <ul>
        <li>Track your mood at the same time each day for consistency</li>
        <li>Note significant events that might impact your mental state</li>
        <li>Look for patterns between your activities and mood changes</li>
        <li>Share these insights with your therapist to enhance your sessions</li>
      </ul>
    </section>

    <section class="export-section">
      <h3>Download Your Reports</h3>
      <p>Take your data with you or share with your healthcare provider</p>
      <div class="export-buttons">
        <button class="export-btn pdf-btn" onclick="exportPDF()">Export as PDF</button>
        <button class="export-btn excel-btn" onclick="exportExcel()">Export as Excel</button>
      </div>
    </section>
  </div>

  <button id="chatbotToggleBtn" class="floating-button">
    <img src="like-icon.png" alt="Chat" />
  </button>
  
  <!-- Chatbot Container -->
  <div id="chatbotWindow" class="chatbot-hidden">
    <div class="chatbot-header">
      <span>MindSpace AI Chat</span>
      <button onclick="toggleChatbot()">×</button>
    </div>
    <div class="chatbot-body" id="chatbotBody">
      <p><em>Hello! How can I support you today?</em></p>
    </div>
    <div class="chatbot-footer">
      <input type="text" id="chatInput" placeholder="Type a message..." />
      <button onclick="sendMessage()">Send</button>
    </div>
  </div>

  <footer>
    <p>&copy; 2025 MindSpace. All rights reserved. | <a href="privacy_policy.html">Privacy Policy</a></p>
  </footer>

  <script>
    // Toggle sidebar function
    function toggleMenu() {
      const sidebar = document.getElementById('sidebar');
      if (sidebar.style.left === '0px') {
        sidebar.style.left = '-250px';
      } else {
        sidebar.style.left = '0px';
      }
    }
    
    // Toggle chatbot function
    function toggleChatbot() {
      const chatbot = document.getElementById('chatbotWindow');
      chatbot.classList.toggle('active');
    }
    
    // Send message function
    function sendMessage() {
      const input = document.getElementById('chatInput');
      const message = input.value.trim();
      
      if (message) {
        const chatBody = document.getElementById('chatbotBody');
        chatBody.innerHTML += `<p><strong>You:</strong> ${message}</p>`;
        chatBody.innerHTML += `<p><em>Let me help you understand your charts better. What specific data would you like more insights on?</em></p>`;
        input.value = '';
        chatBody.scrollTop = chatBody.scrollHeight;
      }
    }
    
    // Export functions
    function exportPDF() {
      alert('Generating PDF report...');
      // PDF generation logic would go here
    }
    
    function exportExcel() {
      alert('Generating Excel spreadsheet...');
      // Excel generation logic would go here
    }
    
    // Mock chart data
    document.addEventListener('DOMContentLoaded', function() {
      // Simple canvas-based chart mockups
      const chartContainers = document.querySelectorAll('.chart-container');
      
      chartContainers.forEach(container => {
        const canvas = document.createElement('canvas');
        canvas.width = container.clientWidth;
        canvas.height = container.clientHeight;
        const ctx = canvas.getContext('2d');
        
        // Different chart style based on container ID
        switch(container.id) {
          case 'moodChart':
            drawLineChart(ctx, canvas.width, canvas.height, '#3e1eff');
            break;
          case 'anxietyChart':
            drawAreaChart(ctx, canvas.width, canvas.height, '#ff6b6b');
            break;
          case 'sleepChart':
            drawBarChart(ctx, canvas.width, canvas.height, '#4CAF50');
            break;
          case 'therapyChart':
            drawProgressChart(ctx, canvas.width, canvas.height, '#FFC107');
            break;
          default:
            drawLineChart(ctx, canvas.width, canvas.height, '#3e1eff');
        }
        
        container.appendChild(canvas);
      });
    });
    
    // Simple chart drawing functions
    function drawLineChart(ctx, width, height, color) {
      ctx.strokeStyle = color;
      ctx.lineWidth = 3;
      ctx.beginPath();
      
      const points = generateRandomPoints(7, height);
      for (let i = 0; i < points.length; i++) {
        const x = (i / (points.length - 1)) * width;
        if (i === 0) {
          ctx.moveTo(x, height - points[i]);
        } else {
          ctx.lineTo(x, height - points[i]);
        }
      }
      
      ctx.stroke();
      
      // Add points
      ctx.fillStyle = color;
      for (let i = 0; i < points.length; i++) {
        const x = (i / (points.length - 1)) * width;
        ctx.beginPath();
        ctx.arc(x, height - points[i], 5, 0, Math.PI * 2);
        ctx.fill();
      }
      
      // Add date labels
      ctx.fillStyle = '#333';
      ctx.font = '12px Arial';
      ctx.textAlign = 'center';
      
      const today = new Date();
      for (let i = 0; i < 7; i++) {
        const date = new Date(today);
        date.setDate(date.getDate() - (6 - i));
        const x = (i / 6) * width;
        ctx.fillText(date.getDate() + '/' + (date.getMonth() + 1), x, height - 10);
      }
    }
    
    function drawAreaChart(ctx, width, height, color) {
      const points = generateRandomPoints(7, height * 0.7);
      
      ctx.fillStyle = hexToRGBA(color, 0.2);
      ctx.strokeStyle = color;
      ctx.lineWidth = 3;
      
      ctx.beginPath();
      ctx.moveTo(0, height);
      
      for (let i = 0; i < points.length; i++) {
        const x = (i / (points.length - 1)) * width;
        ctx.lineTo(x, height - points[i]);
      }
      
      ctx.lineTo(width, height);
      ctx.closePath();
      ctx.fill();
      
      // Draw the line
      ctx.beginPath();
      for (let i = 0; i < points.length; i++) {
        const x = (i / (points.length - 1)) * width;
        if (i === 0) {
          ctx.moveTo(x, height - points[i]);
        } else {
          ctx.lineTo(x, height - points[i]);
        }
      }
      ctx.stroke();
      
      // Add points
      ctx.fillStyle = color;
      for (let i = 0; i < points.length; i++) {
        const x = (i / (points.length - 1)) * width;
        ctx.beginPath();
        ctx.arc(x, height - points[i], 5, 0, Math.PI * 2);
        ctx.fill();
      }
    }
    
    function drawBarChart(ctx, width, height, color) {
      const points = generateRandomPoints(7, height * 0.8);
      const barWidth = width / 14;
      
      ctx.fillStyle = color;
      
      for (let i = 0; i < points.length; i++) {
        const x = (i / (points.length - 1)) * width - barWidth / 2;
        ctx.fillRect(x, height - points[i], barWidth, points[i]);
      }
      
      // Add date labels
      ctx.fillStyle = '#333';
      ctx.font = '12px Arial';
      ctx.textAlign = 'center';
      
      const today = new Date();
      for (let i = 0; i < 7; i++) {
        const date = new Date(today);
        date.setDate(date.getDate() - (6 - i));
        const x = (i / 6) * width;
        ctx.fillText(date.getDate() + '/' + (date.getMonth() + 1), x, height - 10);
      }
    }
    
    function drawProgressChart(ctx, width, height, color) {
      // Draw timeline
      ctx.strokeStyle = '#ddd';
      ctx.lineWidth = 5;
      ctx.beginPath();
      ctx.moveTo(50, height / 2);
      ctx.lineTo(width - 50, height / 2);
      ctx.stroke();
      
      // Draw milestones
      const milestones = 5;
      for (let i = 0; i < milestones; i++) {
        const x = 50 + (i / (milestones - 1)) * (width - 100);
        
        ctx.fillStyle = i < 4 ? color : '#ddd';
        ctx.beginPath();
        ctx.arc(x, height / 2, 15, 0, Math.PI * 2);
        ctx.fill();
        
        if (i < 4) {
          ctx.fillStyle = '#fff';
          ctx.font = 'bold 14px Arial';
          ctx.textAlign = 'center';
          ctx.fillText('✓', x, height / 2 + 5);
        }
        
        // Milestone labels
        ctx.fillStyle = '#333';
        ctx.font = '12px Arial';
        ctx.textAlign = 'center';
        ctx.fillText('Goal ' + (i + 1), x, height / 2 + 40);
      }
    }
    
    // Helper functions
    function generateRandomPoints(count, maxHeight) {
      const points = [];
      for (let i = 0; i < count; i++) {
        points.push(Math.random() * (maxHeight * 0.6) + (maxHeight * 0.2));
      }
      return points;
    }
    
    function hexToRGBA(hex, alpha) {
      const r = parseInt(hex.slice(1, 3), 16);
      const g = parseInt(hex.slice(3, 5), 16);
      const b = parseInt(hex.slice(5, 7), 16);
      return `rgba(${r}, ${g}, ${b}, ${alpha})`;
    }

    // Toggle sidebar menu
    function toggleMenu() {
      const sidebar = document.getElementById('sidebar');
      sidebar.style.left = sidebar.style.left === '0px' ? '-250px' : '0px';
    }

    // Toggle chatbot
    function toggleChatbot() {
      const chatbotWindow = document.getElementById('chatbotWindow');
      chatbotWindow.classList.toggle('active');
    }

    // Chatbot functionality
    document.getElementById('chatbotToggleBtn').addEventListener('click', toggleChatbot);

    function sendMessage() {
      const chatInput = document.getElementById('chatInput');
      const message = chatInput.value;
      
      if (message.trim() === '') return;
      
      const chatBody = document.getElementById('chatbotBody');
      chatBody.innerHTML += `<p><strong>You:</strong> ${message}</p>`;
      
      // Clear input
      chatInput.value = '';
      
      // Simulated response
      setTimeout(() => {
        chatBody.innerHTML += `<p><em>I understand you're interested in our therapists. How can I help you find the right match for your needs?</em></p>`;
        chatBody.scrollTop = chatBody.scrollHeight;
      }, 1000);
    }

    // Enter key for chat
    document.getElementById('chatInput').addEventListener('keypress', function(e) {
      if (e.key === 'Enter') {
        sendMessage();
      }
    });
  </script>

<script src="script.js"></script>
</body>
</html>